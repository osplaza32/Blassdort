<div class="row wrapper border-bottom white-bg page-heading">
  <div class="col-sm-4">
    <ol class="breadcrumb">
      <li>
        <a href="<%= url_for :controller => 'home', :action => 'index' %>">BlastDoor</a>/<a href="<%= url_for :controller => 'usuarios', :action => 'get' %>">Usuarios</a>
      </li>

    </ol>
  </div>
</div>
<div class="ibox-content">
  <div class="ibox-content"><div class="col-sm-4 m-b-xs">
    <a onclick="fnClickAddRow();" href="<%= url_for :controller => 'usuario',:action => 'create' %>" class="btn btn-primary ">Agregar Nuevo Usuarios</a></div>

    <div class="col-sm-3">
      <div class="input-group">
        <input type="text" placeholder="Search" class="input-sm form-control"> <span class="input-group-btn">
                                        <button type="button" class="btn btn-sm btn-primary"> Go!</button>
                                    </span>
      </div>
    </div>
    <div class="col-sm-4 m-b-xs">
      <div data-toggle="buttons" class="btn-group">
        <label class="btn btn-sm btn-white"> <input type="radio" id="option1" name="options"> CSU </label>
        <label class="btn btn-sm btn-white active"> <input type="radio" id="option2" name="options"> EXCEL </label>
        <label class="btn btn-sm btn-white"> <input type="radio" id="option3" name="options"> PDF </label>
      </div>
    </div>
  </div>
  <table class="table table-striped table-bordered table-hover " id="editable">
    <thead>
    <tr>
      <th>Nombre</th>
      <th>Apellido</th>
      <th>Correo</th>
      <th>Telefono</th>
      <th>Cargo</th>
    </tr>
    </thead>
    <tbody>
    <% @datosusuario  .each do |item| %>
      <tr data-html="true" data-container="body" data-toggle="popover"
          data-placement="bottom"
          data-content="<div class='main-info-user'><div class='info-user'><img src='https://scontent.fscl8-1.fna.fbcdn.net/v/t1.0-1/p32x32/23561650_10155949280343024_8631746562890007137_n.jpg?oh=897266393c1b26e507358be8f706f11d&oe=5B2412B3' alt='Smiley face' height='84' width='84'><a href='#'>cambiar foto</a></div>
          <div class='info-suprema'><label>Nombre: <%= item.nombre %></label><br><label>Apellido: <%= item.apellido %></label><br><label>Email: <%= item.email %></label><br><label>cargo: <%= item.cargo %></label><br></div></div>

      <div class='button-info-panel-accion'><button class='btn btn-success info-panel'>Guardar</button><button class='btn btn-primary'>Editar</button></div></div>">
        <td> <%= item.nombre%>  </td>
        <td><%= item.apellido %></td>
        <td> <%= item.email%>  </td>
        <td> <%= item.telefono%>  </td>
        <td> <%= item.cargo%>  </td>

      </tr>
    <%end%>

    </tbody>
    <tfoot>
    <tr>
      <th>Nombre</th>
      <th>Apellido</th>
      <th>Correo</th>
      <th>Telefono</th>
      <th>Cargo</th>
    </tr>
    </tfoot>
  </table>



</div>
</div>
</div>
</div>
</div>

<% content_for :javascript do %>

  <script type="text/javascript">


      $(function() {

          $('.dataTables-example').dataTable({
              "dom": 'T<"clear">lfrtip',
              "tableTools": {
                  "sSwfPath": "../assets/dataTables/swf/copy_csv_xls_pdf.swf"
              }
          });

          /* Init DataTables */
          var oTable = $('#editable').dataTable();

          /* Apply the jEditable handlers to the table */
          oTable.$('td').editable( '../example_ajax.php', {
              "callback": function( sValue, y ) {
                  var aPos = oTable.fnGetPosition( this );
                  oTable.fnUpdate( sValue, aPos[0], aPos[1] );
              },
              "submitdata": function ( value, settings ) {
                  return {
                      "row_id": this.parentNode.getAttribute('id'),
                      "column": oTable.fnGetPosition( this )[2]
                  };
              },

              "width": "90%",
              "height": "100%"
          } );


      });

      function fnClickAddRow() {
          $('#editable').dataTable().fnAddData( [
              "Custom row",
              "New row",
              "New row",
              "New row",
              "New row" ] );

      }

  </script>

<% end %>
